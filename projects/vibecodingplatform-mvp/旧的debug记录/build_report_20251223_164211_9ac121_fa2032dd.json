{
  "runId": "fa2032dd-ca44-4ce7-bcbd-1775a6fa4c26",
  "timestamp": "2025-12-23T08:42:11.282Z",
  "prompt": "使用 React + TypeScript + Tailwind CSS 开发一个待办事项应用。功能要求：\\n1. 支持新增任务、删除任务。\\n2. 支持标记任务为完成/未完成状态。\\n3. 底部提供筛选栏：全部 (All) / 未完成 (Active) / 已完成 (Completed)。\\n4. 数据持久化：刷新页面后数据不丢失（使用 localStorage）。\\n5. UI 需美观，使用卡片式设计。",
  "themeName": "sky",
  "telemetry": {
    "mode": "generate",
    "policy_version": "1.0.0",
    "prompt_hash": "9ac12150f9a33b0c",
    "prompt_length": 5765,
    "activated_dynamic_rules": [
      "router_setup",
      "data_handling_inline_only"
    ],
    "spec_mode": "summary"
  },
  "l0": {
    "status": "pass",
    "ruleSetVersion": "1.0",
    "errorCount": 0,
    "warningCount": 0,
    "issues": [],
    "appliedFixes": []
  },
  "qualityGates": {
    "enabled": true,
    "results": {
      "L0_static": {
        "level": "L0_static",
        "passed": false,
        "issues_count": 10,
        "issues": [
          {
            "rule_id": "input_missing_text_color",
            "severity": "warning",
            "priority": 3,
            "file": "src/components/generated/todo/TodoInput.tsx",
            "line": 31,
            "message": "Input element may lack explicit text color styling (line 31). Text may be invisible against background.",
            "snippet": "<input\n          id=\"new-todo\"\n          value={value}\n          onChange={(e) =>",
            "suggestion": "Add Tailwind classes: `text-gray-900` (light bg) or `text-white` (dark bg) and `placeholder:text-gray-400` or `placeholder:text-gray-500`"
          },
          {
            "rule_id": "low_contrast_light_on_light",
            "severity": "error",
            "priority": 3,
            "file": "src/components/generated/todo/TodoInput.tsx",
            "line": 37,
            "message": "低对比度：浅色文字(text-gray-50)在浅色背景(bg-white)上，文字不可读",
            "snippet": "className=\"w-full rounded-sm border-[3px] border-black bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-[4p",
            "suggestion": "将 text-gray-50 改为 text-gray-900 或 text-slate-900",
            "gate": "L0_static"
          },
          {
            "rule_id": "low_contrast_dark_on_dark",
            "severity": "error",
            "priority": 3,
            "file": "src/components/generated/todo/TodoInput.tsx",
            "line": 47,
            "message": "低对比度：深色文字(text-gray-900)在深色背景(bg-black)上，文字不可读",
            "snippet": ": 'bg-[#10b981] text-gray-900 hover:-translate-y-0.5 hover:bg-black hover:text-[#10b981] hover:shadow-[6px_6px_0_0_rgba(",
            "suggestion": "将 text-gray-900 改为 text-white 或 text-gray-100",
            "gate": "L0_static"
          },
          {
            "rule_id": "low_contrast_dark_on_dark",
            "severity": "error",
            "priority": 3,
            "file": "src/components/generated/todo/TodoListItem.tsx",
            "line": 48,
            "message": "低对比度：深色文字(text-gray-900)在深色背景(bg-black)上，文字不可读",
            "snippet": "className=\"ml-3 flex h-8 w-8 items-center justify-center rounded-sm border-[2px] border-black bg-[#ef4444] text-gray-900",
            "suggestion": "将 text-gray-900 改为 text-white 或 text-gray-100",
            "gate": "L0_static"
          },
          {
            "rule_id": "low_contrast_light_on_light",
            "severity": "error",
            "priority": 3,
            "file": "src/components/generated/todo/TodoFilterBar.tsx",
            "line": 40,
            "message": "低对比度：浅色文字(text-white)在浅色背景(bg-white)上，文字不可读",
            "snippet": ": 'border-[2px] border-transparent bg-white hover:-translate-y-0.5 hover:bg-black hover:text-white hover:shadow-[3px_3px",
            "suggestion": "将 text-white 改为 text-gray-900 或 text-slate-900",
            "gate": "L0_static"
          },
          {
            "rule_id": "data_contract_violation",
            "severity": "error",
            "priority": 2,
            "file": "src/lib/generated/todoLogic.ts",
            "line": 1,
            "message": "函数返回的数据结构不一致：第1个return有{'todos'}，第2个return缺少{'todos'}，多出{'newTodoTitle', '...state'}",
            "snippet": "return { ... }",
            "suggestion": "确保所有return语句返回相同的字段集合",
            "gate": "L0_static"
          },
          {
            "rule_id": "data_contract_violation",
            "severity": "error",
            "priority": 2,
            "file": "src/lib/generated/todoLogic.ts",
            "line": 1,
            "message": "函数返回的数据结构不一致：第1个return有{'todos'}，第3个return缺少set()，多出{'newTodoTitle', '...state.todos]', '...state'}",
            "snippet": "return { ... }",
            "suggestion": "确保所有return语句返回相同的字段集合",
            "gate": "L0_static"
          },
          {
            "rule_id": "data_contract_violation",
            "severity": "error",
            "priority": 2,
            "file": "src/lib/generated/todoLogic.ts",
            "line": 1,
            "message": "函数返回的数据结构不一致：第1个return有{'todos'}，第4个return缺少set()，多出{'...state'}",
            "snippet": "return { ... }",
            "suggestion": "确保所有return语句返回相同的字段集合",
            "gate": "L0_static"
          },
          {
            "rule_id": "data_contract_violation",
            "severity": "error",
            "priority": 2,
            "file": "src/lib/generated/todoLogic.ts",
            "line": 1,
            "message": "函数返回的数据结构不一致：第1个return有{'todos'}，第5个return缺少set()，多出{'...state'}",
            "snippet": "return { ... }",
            "suggestion": "确保所有return语句返回相同的字段集合",
            "gate": "L0_static"
          },
          {
            "rule_id": "data_contract_violation",
            "severity": "error",
            "priority": 2,
            "file": "src/lib/generated/todoLogic.ts",
            "line": 1,
            "message": "函数返回的数据结构不一致：第1个return有{'todos'}，第6个return缺少{'todos'}，多出{'...state', 'filter'}",
            "snippet": "return { ... }",
            "suggestion": "确保所有return语句返回相同的字段集合",
            "gate": "L0_static"
          }
        ]
      },
      "L1_typecheck": {
        "level": "L1_typecheck",
        "passed": true,
        "issues_count": 0,
        "issues": []
      },
      "L2_smoke_test": {
        "level": "L2_smoke_test",
        "passed": true,
        "issues_count": 0,
        "issues": []
      }
    },
    "passed": false,
    "failed_gates": [
      "L0_static"
    ]
  },
  "phases": {
    "install": {
      "status": "success",
      "startedAt": "2025-12-23T08:07:42.204Z",
      "endedAt": "2025-12-23T08:26:18.587Z",
      "duration_ms": 1116383,
      "exitCode": 0,
      "logTail": "\r\nadded 183 packages in 19m\r\n\r\n28 packages are looking for funding\r\n  run `npm fund` for details\r\n"
    },
    "dev": {
      "status": "success",
      "startedAt": "2025-12-23T08:26:18.587Z",
      "endedAt": "2025-12-23T08:26:20.294Z",
      "duration_ms": 1707,
      "exitCode": 0,
      "logTail": "\r\n> cyberpunk-app@0.0.0 dev\r\n> vite\r\n\r\n\u001b[1G\u001b[0K",
      "url": "https://k03e2io1v3fx9wvj0vr8qd5q58o56n-fkdo--5173--365214aa.local-corp.webcontainer-api.io",
      "port": 5173
    },
    "render": {
      "status": "fail",
      "startedAt": "2025-12-23T08:26:20.294Z",
      "endedAt": "2025-12-23T08:42:11.281Z",
      "duration_ms": 950987,
      "signal": "TIMEOUT_WITH_ERROR"
    }
  },
  "deps": {
    "approved": {},
    "injected": [],
    "injectError": null
  },
  "errors": {
    "console": {
      "total": 1,
      "uniqueCount": 1,
      "samples": [
        "Uncaught SyntaxError: The requested module '/src/lib/generated/todoLogic.ts' does not provide an export named 'FILTER_OPTIONS'"
      ]
    },
    "classified": {
      "INSTALL": 0,
      "DEPENDENCY": 0,
      "BUILD": 0,
      "EXPORT": 1,
      "RUNTIME": 0
    }
  }
}