{
  "runId": "1669f087-5ce8-4ec3-894f-57afbac56237",
  "timestamp": "2025-12-24T12:40:22.572Z",
  "prompt": " 开发一个销售仪表盘，不使用任何第三方图表库。\\n1. 顶部 KPIs：Revenue, Orders, Refunds 三个卡片。\\n2. 中间图表：使用 HTML div + CSS flex/grid 模拟一个'最近7天订单量'的柱状图。高度根据数值动态计算。\\n3. 右侧列表：最近5条订单记录。\\n4. 交互：顶部提供'最近7天' / '最近30天' 切换按钮，点击后模拟数据变化，图表和KPI数值需随之更新。",
  "themeName": "teal",
  "telemetry": {
    "mode": "generate",
    "policy_version": "1.0.0",
    "prompt_hash": "3fea74ba7ecaf295",
    "prompt_length": 20803,
    "activated_dynamic_rules": [
      "data_handling_inline_only"
    ],
    "spec_mode": "summary"
  },
  "l0": {
    "status": "fail",
    "ruleSetVersion": "1.0",
    "errorCount": 1,
    "warningCount": 0,
    "issues": [
      {
        "ruleId": "G1_STRUCTURAL_NO_SHADCN_INPUT",
        "severity": "error",
        "message": "结构性应用（网格/棋盘/画布）不得使用 shadcn Input 组件，必须使用原生 <input>/<button>",
        "files": [
          "src/pages/Index.tsx"
        ],
        "evidence": "",
        "suggestion": "将 <Input> 替换为原生 <input> 或 <button>，并将 CSS Modules 的 className 施加在原生元素本体上，而不是仅在 wrapper div。示例：<input className={styles.cell} ... /> 而不是 <div className={styles.cell}><Input /></div>"
      }
    ],
    "appliedFixes": []
  },
  "qualityGates": {
    "enabled": true,
    "initial": {
      "L0_static": {
        "level": "L0_static",
        "passed": false,
        "issues_count": 1,
        "issues": [
          {
            "rule_id": "low_contrast_dark_on_dark",
            "severity": "error",
            "priority": 3,
            "file": "src/pages/Index.tsx",
            "line": 100,
            "message": "低对比度：深色文字(text-slate-900)在深色背景(bg-card)上，文字不可读",
            "snippet": "className=\"inline-flex items-center justify-center rounded-xl border border-border bg-card px-2 py-2 text-slate-900 hove",
            "suggestion": "将 text-slate-900 改为 text-white 或 text-gray-100",
            "gate": "L0_static"
          }
        ]
      },
      "L1_typecheck": {
        "level": "L1_typecheck",
        "passed": true,
        "issues_count": 0,
        "issues": []
      },
      "L2_smoke_test": {
        "level": "L2_smoke_test",
        "passed": true,
        "issues_count": 0,
        "issues": []
      },
      "L0_style_interaction": {
        "level": "L0_style_interaction",
        "passed": false,
        "issues_count": 1,
        "issues": [
          {
            "rule_id": "G1_STRUCTURAL_NO_SHADCN_INPUT",
            "severity": "error",
            "file": "src/pages/Index.tsx",
            "line": 0,
            "message": "结构性应用（网格/棋盘/画布）不得使用 shadcn Input 组件，必须使用原生 <input>/<button>",
            "snippet": "",
            "suggestion": "将 <Input> 替换为原生 <input> 或 <button>，并将 CSS Modules 的 className 施加在原生元素本体上，而不是仅在 wrapper div。示例：<input className={styles.cell} ... /> 而不是 <div className={styles.cell}><Input /></div>",
            "gate": "L0_style_interaction"
          }
        ]
      }
    },
    "results": {
      "L0_static": {
        "level": "L0_static",
        "passed": true,
        "issues_count": 2,
        "issues": [
          {
            "rule_id": "input_missing_text_color",
            "severity": "warning",
            "priority": 3,
            "file": "src/pages/Index.tsx",
            "line": 72,
            "message": "Input element may lack explicit text color styling (line 72). Text may be invisible against background.",
            "snippet": "<input\n                    type=\"text\"\n                    inputMode=\"numeric\"\n                    m...",
            "suggestion": "Add Tailwind classes: `text-gray-900` (light bg) or `text-white` (dark bg) and `placeholder:text-gray-400` or `placeholder:text-gray-500`"
          },
          {
            "severity": "warning",
            "file": "src/components/generated/dashboard/Sidebar.tsx",
            "line": 1,
            "message": "[G6_ORPHAN_FILES] 检测到 4 个未被引用的组件文件",
            "suggestion": "考虑在页面中接线这些组件，或删除它们：Sidebar, StatsCards, OrdersBarChart, RecentOrdersList"
          }
        ]
      },
      "L1_typecheck": {
        "level": "L1_typecheck",
        "passed": true,
        "issues_count": 0,
        "issues": []
      },
      "L2_smoke_test": {
        "level": "L2_smoke_test",
        "passed": true,
        "issues_count": 0,
        "issues": []
      }
    },
    "passed": true,
    "failed_gates": [],
    "healing_history": [
      {
        "iteration": 1,
        "timestamp": "2025-12-24T20:40:09.503115",
        "error_count": 0,
        "total_count": 2,
        "regression": false,
        "regression_type": "none",
        "healing_actions": {
          "ai_returned_files": 1,
          "files_applied": 1,
          "files_filtered": 0,
          "filtered_paths": [],
          "max_files_limit": 8,
          "changes": [
            {
              "path": "src/pages/Index.tsx",
              "action": "modified",
              "size_before": 12209,
              "size_after": 3719,
              "lines_before": 285,
              "lines_after": 109
            }
          ]
        },
        "gates": {
          "L0_static": {
            "passed": true,
            "issues_count": 2,
            "issues": [
              {
                "rule_id": "input_missing_text_color",
                "severity": "warning",
                "file": "src/pages/Index.tsx",
                "message": "Input element may lack explicit text color styling (line 72). Text may be invisible against background."
              },
              {
                "rule_id": null,
                "severity": "warning",
                "file": "src/components/generated/dashboard/Sidebar.tsx",
                "message": "[G6_ORPHAN_FILES] 检测到 4 个未被引用的组件文件"
              }
            ]
          },
          "L1_typecheck": {
            "passed": true,
            "issues_count": 0,
            "issues": []
          },
          "L2_smoke_test": {
            "passed": true,
            "issues_count": 0,
            "issues": []
          }
        }
      }
    ],
    "final": {
      "L0_static": {
        "level": "L0_static",
        "passed": true,
        "issues_count": 2,
        "issues": [
          {
            "rule_id": "input_missing_text_color",
            "severity": "warning",
            "priority": 3,
            "file": "src/pages/Index.tsx",
            "line": 72,
            "message": "Input element may lack explicit text color styling (line 72). Text may be invisible against background.",
            "snippet": "<input\n                    type=\"text\"\n                    inputMode=\"numeric\"\n                    m...",
            "suggestion": "Add Tailwind classes: `text-gray-900` (light bg) or `text-white` (dark bg) and `placeholder:text-gray-400` or `placeholder:text-gray-500`"
          },
          {
            "severity": "warning",
            "file": "src/components/generated/dashboard/Sidebar.tsx",
            "line": 1,
            "message": "[G6_ORPHAN_FILES] 检测到 4 个未被引用的组件文件",
            "suggestion": "考虑在页面中接线这些组件，或删除它们：Sidebar, StatsCards, OrdersBarChart, RecentOrdersList"
          }
        ]
      },
      "L1_typecheck": {
        "level": "L1_typecheck",
        "passed": true,
        "issues_count": 0,
        "issues": []
      },
      "L2_smoke_test": {
        "level": "L2_smoke_test",
        "passed": true,
        "issues_count": 0,
        "issues": []
      }
    }
  },
  "phases": {
    "install": {
      "status": "success",
      "startedAt": "2025-12-24T12:40:12.651Z",
      "endedAt": "2025-12-24T12:40:13.051Z",
      "duration_ms": 400,
      "exitCode": 0,
      "logTail": "\r\nup to date in 136ms\r\n\r\n28 packages are looking for funding\r\n  run `npm fund` for details\r\n"
    },
    "dev": {
      "status": "success",
      "startedAt": "2025-12-24T12:40:13.051Z",
      "endedAt": "2025-12-24T12:40:14.571Z",
      "duration_ms": 1520,
      "exitCode": 0,
      "logTail": "\r\n> cyberpunk-app@0.0.0 dev\r\n> vite\r\n\r\n\u001b[1G\u001b[0KPort 5173 is in use, trying another one...\r\nPort 5174 is in use, trying another one...\r\nPort 5175 is in use, trying another one...\r\nPort 5176 is in use, trying another one...\r\nPort 5177 is in use, trying another one...\r\n",
      "url": "https://k03e2io1v3fx9wvj0vr8qd5q58o56n-fkdo--5178--365214aa.local-corp.webcontainer-api.io",
      "port": 5178
    },
    "render": {
      "status": "timeout",
      "startedAt": "2025-12-24T12:40:14.571Z",
      "endedAt": "2025-12-24T12:40:22.572Z",
      "duration_ms": 8001,
      "signal": "TIMEOUT_NO_ERROR"
    }
  },
  "deps": {
    "approved": {},
    "injected": [],
    "injectError": null
  },
  "errors": {
    "console": {
      "total": 0,
      "uniqueCount": 0,
      "samples": []
    },
    "classified": {
      "INSTALL": 0,
      "DEPENDENCY": 0,
      "BUILD": 0,
      "EXPORT": 0,
      "RUNTIME": 0
    }
  }
}